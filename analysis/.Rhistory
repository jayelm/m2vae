}
plot_metrics(c(
'REAL_1track_250anneal'
))
plot_metrics <- function(models) {
if (is.null(names(models))) {
names(models) <- models
}
metrics <- sapply(names(models), function(model) {
metrics_file <- paste0('../exp/', model, '/metrics.json')
metrics_df <- as.data.frame(read_json(metrics_file, simplifyVector = TRUE)) %>%
tbl_df %>%
mutate(epoch = 1:n()) %>%
mutate(model = models[model])
}, simplify = FALSE) %>%
do.call(rbind, .) %>%
mutate(model = factor(model))
metrics_long <- metrics %>%
gather('metric', 'value', -epoch, -model) %>%
filter(!(metric %in% c('best_epoch', 'best_loss', 'current_epoch')))
ggplot(metrics_long, aes(x = epoch, y = value, color = model)) +
geom_line() +
facet_wrap(~ metric, scales = 'free_y') +
xlab('Epoch') +
ylab('Value')
}
plot_metrics(c(
'REAL_1track_250anneal'
))
plot_metrics <- function(models) {
if (is.null(names(models))) {
names(models) <- models
}
metrics <- sapply(names(models), function(model) {
metrics_file <- paste0('../exp/', model, '/metrics.json')
metrics_df <- as.data.frame(read_json(metrics_file, simplifyVector = TRUE)) %>%
tbl_df %>%
mutate(epoch = 1:n()) %>%
mutate(model = models[model])
}, simplify = FALSE) %>%
do.call(rbind, .) %>%
mutate(model = factor(model))
metrics_long <- metrics %>%
gather('metric', 'value', -epoch, -model) %>%
filter(!(metric %in% c('best_epoch', 'best_loss', 'current_epoch')))
ggplot(metrics_long, aes(x = epoch, y = value, color = model)) +
geom_line() +
facet_wrap(~ metric, scales = 'free_y') +
xlab('Epoch') +
ylab('Value')
}
plot_metrics(c(
'REAL_1track_250anneal'
))
plot_metrics <- function(models) {
if (is.null(names(models))) {
names(models) <- models
}
metrics <- sapply(names(models), function(model) {
metrics_file <- paste0('../exp/', model, '/metrics.json')
metrics_df <- as.data.frame(read_json(metrics_file, simplifyVector = TRUE)) %>%
tbl_df %>%
mutate(epoch = 1:n()) %>%
mutate(model = models[model])
}, simplify = FALSE) %>%
do.call(rbind, .) %>%
mutate(model = factor(model))
metrics_long <- metrics %>%
gather('metric', 'value', -epoch, -model) %>%
filter(!(metric %in% c('best_epoch', 'best_loss', 'current_epoch'))) %>%
mutate(ifelse(value == -1, NA, value))
ggplot(metrics_long, aes(x = epoch, y = value, color = model)) +
geom_line() +
facet_wrap(~ metric, scales = 'free_y') +
xlab('Epoch') +
ylab('Value')
}
plot_metrics(c(
'REAL_1track_250anneal'
))
plot_metrics <- function(models) {
if (is.null(names(models))) {
names(models) <- models
}
metrics <- sapply(names(models), function(model) {
metrics_file <- paste0('../exp/', model, '/metrics.json')
metrics_df <- as.data.frame(read_json(metrics_file, simplifyVector = TRUE)) %>%
tbl_df %>%
mutate(epoch = 1:n()) %>%
mutate(model = models[model])
}, simplify = FALSE) %>%
do.call(rbind, .) %>%
mutate(model = factor(model))
metrics_long <- metrics %>%
gather('metric', 'value', -epoch, -model) %>%
filter(!(metric %in% c('best_epoch', 'best_loss', 'current_epoch'))) %>%
mutate(ifelse(value == -1.0, NA, value))
ggplot(metrics_long, aes(x = epoch, y = value, color = model)) +
geom_line() +
facet_wrap(~ metric, scales = 'free_y') +
xlab('Epoch') +
ylab('Value')
}
plot_metrics(c(
'REAL_1track_250anneal'
))
read_metrics <- function(models) {
metrics <- sapply(names(models), function(model) {
metrics_file <- paste0('../exp/', model, '/metrics.json')
metrics_df <- as.data.frame(read_json(metrics_file, simplifyVector = TRUE)) %>%
tbl_df %>%
mutate(epoch = 1:n()) %>%
mutate(model = models[model])
}, simplify = FALSE) %>%
do.call(rbind, .) %>%
mutate(model = factor(model))
metrics_long <- metrics %>%
gather('metric', 'value', -epoch, -model) %>%
filter(!(metric %in% c('best_epoch', 'best_loss', 'current_epoch'))) %>%
mutate(ifelse(value == -1.0, NA, value))
metrics_long
}
plot_metrics <- function(models) {
if (is.null(names(models))) {
names(models) <- models
}
metrics <- read_metrics(models)
ggplot(metrics, aes(x = epoch, y = value, color = model)) +
geom_line() +
facet_wrap(~ metric, scales = 'free_y') +
xlab('Epoch') +
ylab('Value')
}
plot_metrics(c(
'REAL_1track_250anneal'
))
read_metrics(c(
'REAL_1track_250anneal'
)) %>% head
read_metrics <- function(models) {
metrics <- sapply(names(models), function(model) {
metrics_file <- paste0('../exp/', model, '/metrics.json')
metrics_df <- as.data.frame(read_json(metrics_file, simplifyVector = TRUE)) %>%
tbl_df %>%
mutate(epoch = 1:n()) %>%
mutate(model = models[model])
}, simplify = FALSE) %>%
do.call(rbind, .) %>%
mutate(model = factor(model))
metrics_long <- metrics %>%
gather('metric', 'value', -epoch, -model) %>%
filter(!(metric %in% c('best_epoch', 'best_loss', 'current_epoch'))) %>%
mutate(ifelse(value == -1.0, NA, value))
metrics_long
}
plot_metrics <- function(models) {
if (is.null(names(models))) {
names(models) <- models
}
metrics <- read_metrics(models)
ggplot(metrics, aes(x = epoch, y = value, color = model)) +
geom_line() +
facet_wrap(~ metric, scales = 'free_y') +
xlab('Epoch') +
ylab('Value')
}
read_metrics(c(
'REAL_1track_250anneal'
)) %>% head
read_metrics <- function(models) {
if (is.null(names(models))) {
names(models) <- models
}
metrics <- sapply(names(models), function(model) {
metrics_file <- paste0('../exp/', model, '/metrics.json')
metrics_df <- as.data.frame(read_json(metrics_file, simplifyVector = TRUE)) %>%
tbl_df %>%
mutate(epoch = 1:n()) %>%
mutate(model = models[model])
}, simplify = FALSE) %>%
do.call(rbind, .) %>%
mutate(model = factor(model))
metrics_long <- metrics %>%
gather('metric', 'value', -epoch, -model) %>%
filter(!(metric %in% c('best_epoch', 'best_loss', 'current_epoch'))) %>%
mutate(ifelse(value == -1.0, NA, value))
metrics_long
}
plot_metrics <- function(models) {
metrics <- read_metrics(models)
ggplot(metrics, aes(x = epoch, y = value, color = model)) +
geom_line() +
facet_wrap(~ metric, scales = 'free_y') +
xlab('Epoch') +
ylab('Value')
}
read_metrics <- function(models) {
if (is.null(names(models))) {
names(models) <- models
}
metrics <- sapply(names(models), function(model) {
metrics_file <- paste0('../exp/', model, '/metrics.json')
metrics_df <- as.data.frame(read_json(metrics_file, simplifyVector = TRUE)) %>%
tbl_df %>%
mutate(epoch = 1:n()) %>%
mutate(model = models[model])
}, simplify = FALSE) %>%
do.call(rbind, .) %>%
mutate(model = factor(model))
metrics_long <- metrics %>%
gather('metric', 'value', -epoch, -model) %>%
filter(!(metric %in% c('best_epoch', 'best_loss', 'current_epoch'))) %>%
mutate(ifelse(value == -1.0, NA, value))
metrics_long
}
plot_metrics <- function(models) {
metrics <- read_metrics(models)
ggplot(metrics, aes(x = epoch, y = value, color = model)) +
geom_line() +
facet_wrap(~ metric, scales = 'free_y') +
xlab('Epoch') +
ylab('Value')
}
read_metrics(c(
'REAL_1track_250anneal'
)) %>% head
read_metrics(c(
'REAL_1track_250anneal'
)) %>% .$value
read_metrics(c(
'REAL_1track_250anneal'
)) %>% any(is.na(.$value))
read_metrics(c(
'REAL_1track_250anneal'
)) %>%
.$value %>% is.na
read_metrics(c(
'REAL_1track_250anneal'
)) %>%
.$value %>% is.na %>% any
m <- read_metrics(c(
'REAL_1track_250anneal'
))
m
head(m)
plot_metrics(c(
'REAL_1track_250anneal'
))
read_metrics <- function(models) {
if (is.null(names(models))) {
names(models) <- models
}
metrics <- sapply(names(models), function(model) {
metrics_file <- paste0('../exp/', model, '/metrics.json')
metrics_df <- as.data.frame(read_json(metrics_file, simplifyVector = TRUE)) %>%
tbl_df %>%
mutate(epoch = 1:n()) %>%
mutate(model = models[model])
}, simplify = FALSE) %>%
do.call(rbind, .) %>%
mutate(model = factor(model))
metrics_long <- metrics %>%
gather('metric', 'value', -epoch, -model) %>%
filter(!(metric %in% c('best_epoch', 'best_loss', 'current_epoch'))) %>%
mutate(value = ifelse(value == -1.0, NA, value))
metrics_long
}
plot_metrics <- function(models) {
metrics <- read_metrics(models)
ggplot(metrics, aes(x = epoch, y = value, color = model)) +
geom_line() +
facet_wrap(~ metric, scales = 'free_y') +
xlab('Epoch') +
ylab('Value')
}
plot_metrics(c(
'REAL_1track_250anneal'
))
read_metrics(c(
'REAL_1track_250anneal'
)) %>%
filter(metric == 'train_f1')
read_metrics(c(
'REAL_1track_250anneal'
)) %>%
filter(metric == 'train_f1')
plot_metrics(c(
'REAL_1track_250anneal'
))
read_metrics <- function(models) {
if (is.null(names(models))) {
names(models) <- models
}
metrics <- sapply(names(models), function(model) {
metrics_file <- paste0('../exp/', model, '/metrics.json')
metrics_df <- as.data.frame(read_json(metrics_file, simplifyVector = TRUE)) %>%
tbl_df %>%
mutate(epoch = 1:n()) %>%
mutate(model = models[model])
}, simplify = FALSE) %>%
do.call(rbind, .) %>%
mutate(model = factor(model))
metrics_long <- metrics %>%
gather('metric', 'value', -epoch, -model) %>%
filter(!(metric %in% c('best_epoch', 'best_loss', 'current_epoch'))) %>%
mutate(value = ifelse(value == -1.0, NA, value)) %>%
filter(!is.na(value))
metrics_long
}
plot_metrics <- function(models) {
metrics <- read_metrics(models)
ggplot(metrics, aes(x = epoch, y = value, color = model)) +
geom_line() +
facet_wrap(~ metric, scales = 'free_y') +
xlab('Epoch') +
ylab('Value')
}
plot_metrics(c(
'REAL_1track_250anneal'
))
plot_metrics(c(
'debug'
))
plot_metrics(c(
'debug'
))
plot_metrics(c(
'debug'
))
```{r}
plot_metrics(c(
'debug'
))
plot_metrics(c(
'debug', 'debug_1e-3'
))
plot_metrics(c(
'debug', 'debug_1e-3'
))
plot_metrics(c(
'debug', 'debug_1e-3'
))
plot_metrics(c(
'debug', 'debug_1e-3'
))
plot_metrics(c(
'debug', 'debug_1e-3'
))
plot_metrics(c(
'debug', 'debug_1e-3'
))
plot_metrics(c(
'debug', 'debug_1e-3'
))
plot_metrics(c(
'debug', 'debug_1e-3'
))
plot_metrics(c(
'debug', 'debug_1e-3'
))
plot_metrics(c(
'debug', 'debug_1e-3'
))
plot_metrics(c(
'debug', 'debug_1e-3'
))
plot_metrics(c(
'debug', 'debug_1e-3', 'debug_5e-4'
))
plot_metrics(c(
'debug', 'debug_5e-4'
))
plot_metrics(c(
'debug', 'debug_5e-4'
))
plot_metrics(c(
'debug', 'debug_5e-4'
))
plot_metrics(c(
'debug', 'debug_5e-4'
))
plot_metrics(c(
'debug', 'debug_5e-4', 'debug_1e-4'
))
plot_metrics(c(
'debug', 'debug_5e-4', 'debug_1e-4'
))
plot_metrics(c(
'debug', 'debug_5e-4', 'debug_1e-4'
))
plot_metrics(c(
'debug', 'debug_5e-4', 'debug_1e-4'
))
plot_metrics(c(
'debug_5e-4', 'debug_1e-4'
))
plot_metrics(c(
'debug_5e-4', 'debug_1e-4'
))
plot_metrics(c(
'debug_1e-4'
))
plot_metrics(c(
'debug_1e-4',
))
plot_metrics(c(
'debug_1e-4'
))
plot_metrics(c(
'1track_full_10000_1000_0.01klfactor'
))
plot_metrics(c(
'debug_1e-4'
))
plot_metrics(c(
'1track_full_10000_1000_0.01klfactor'
))
plot_metrics(c(
'1track_full_10000_1000_0.01klfactor'
))
plot_metrics(c(
'5track_full_10000_1000_0.01klfactor'
))
plot_metrics(c(
'5track_full_10000_500_0.01klfactor'
))
plot_metrics(c(
'debug_1e-4'
))
plot_metrics(c(
'1track_full_10000_500_0.01klfactor'
))
plot_metrics(c(
'1track_full_10000_500_0.01klfactor'
))
plot_metrics(c(
'1track_full_10000_500_0.01klfactor'
))
plot_metrics(c(
'1track_full_10000_500_0.05klfactor'
))
plot_metrics(c(
'1track_full_10000_500_0.005klfactor'
))
plot_metrics(c(
'1track_full_10000_500_0.005klfactor'
))
plot_metrics(c(
'1track_full_10000_500_0.01klfactor'
))
plot_metrics(c(
'1track_full_10000_500_0.05klfactor'
))
plot_metrics(c(
'1track_full_10000_500_0.005klfactor'
))
plot_metrics(c(
'1track_full_10000_500_0.005klfactor'
))
plot_metrics(c(
'1track_full_10000_500_0.01klfactor'
))
plot_metrics(c(
'debug_1e-4'
))
plot_metrics(c(
'debug_1e-4'
))
read_metrics <- function(models) {
if (is.null(names(models))) {
names(models) <- models
}
metrics <- sapply(names(models), function(model) {
metrics_file <- paste0('../exp/', model, '/metrics.json')
metrics_df <- as.data.frame(read_json(metrics_file, simplifyVector = TRUE)) %>%
tbl_df %>%
mutate(epoch = 1:n()) %>%
mutate(model = models[model])
}, simplify = FALSE) %>%
do.call(rbind, .) %>%
mutate(model = factor(model))
metrics_long <- metrics %>%
gather('metric', 'value', -epoch, -model) %>%
filter(!(metric %in% c('best_epoch', 'best_loss', 'current_epoch'))) %>%
mutate(value = ifelse(value == -1.0, NA, value)) %>%
filter(!is.na(value))
metrics_long
}
plot_metrics <- function(models, min_epoch = 0) {
metrics <- read_metrics(models) %>%
filter(epoch >= min_epoch)
ggplot(metrics, aes(x = epoch, y = value, color = model)) +
geom_line() +
facet_wrap(~ metric, scales = 'free_y') +
xlab('Epoch') +
ylab('Value')
}
plot_metrics(c(
'debug_1e-4'
), min_epoch = 6000)
plot_metrics(c(
'debug_1e-4'
), min_epoch = 5500)
plot_metrics(c(
'1track_full_10000_500_0.01klfactor'
))
plot_metrics(c(
'1track_full_10000_500_0.05klfactor'
))
plot_metrics(c(
'1track_full_10000_500_0.005klfactor'
))
